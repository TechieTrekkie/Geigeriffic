<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Geigeriffic by TechieTrekkie</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Geigeriffic</h1>
        <h2>Geiger Counter graphing and locating.</h2>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>Geigeriffic</h1>
          <center><img src="images/Geigeriffic.png" alt="Serial Adapter" title="Tooltip" height="115%" width="115%" /></center></p>

          <p style="text-indent: 3em"> Geigeriffic is the Processing Sketch that I wrote to interface with the <a href="http://mightyohm.com/blog/products/geiger-counter/">MightyOhm Geiger Counter kit</a> by Jeff Keyzer.  The code, some of which is adapted from Jeremy Blum's <a href="http://heliowatcher.com/">HelioWatcher project</a>, can be used in order to graph, as well as log as a .csv file the Counts Per Second (CPS), Counts Per Minute (CPM),  equivalent dose (expressed in ÂµSv/hr), and mode of the geiger counter at the time (Different sampling rates, expressed as SLOW, FAST, and INST, which change based on certian thresholds).  This data is transmitted wirelessly from the serial port of the geiger counter using 2 XBee transceivers.  One of the transceivers is connected directly to the geiger counter's serial port using a <a href="http://www.adafruit.com/products/126">serial adapter</a>, and draws power from the geiger counter's own 2 AAA batteries.  <center><img src="images/IMG_20120706_110627.jpg" alt="Serial Adapter" title="Tooltip" height="75%" width="75%" /><img src="images/IMG_20120706_110717.jpg" alt="Serial Adapter" title="Tooltip" height="75%" width="75%" /></center>
          The second transceiver is connected directly to the computer with a <a href="http://www.adafruit.com/products/247">usb mini adapter</a>.  <center><img src="images/IMG_20120802_085210.jpg" alt="Serial Adapter" title="Tooltip" height="75%" width="75%" /></center>
I was able to configure the XBees to "speak" with each other using <a href="http://freeware.the-meiers.org/">CoolTerm</a> (I also had to install a <a href="http://www.ftdichip.com/Drivers/VCP.htm">driver</a> to recognize the USB ports as Serial ports).  In the code, only 2 things must be configured.  First, at the top of the code the serial port the XBee is connected to must be changed based on the specific XBee you are using (In Windows it is gonna be COM#, and in Mac just change the letters to match the ones that CoolTerm is connecting to in prefrences).  Secondly, since Geigeriffic also logs the data it recieves, it is important to change the filepath that it is using depending on where you want to store the logged data.<center><img src="images/Code.png" alt="Serial Adapter" title="Tooltip" height="120%" width="120%" /></center>  Other than that, it should run fairly easily, although I have not tested it yet on Windows.  Important to note is that the geiger counter MUST be running BEFORE opening Geigeriffic, or the initial connection will fail. </p>

          <p style="text-indent: 3em">I also wrote firmware for the geiger counter's ATTINY 2313 microcontroller which  allows one to plug an <a href="http://adafruit.com/products/746">Adafruit GPS unit</a> into it, and have it broadcast that along with the radiation levels to a computer running Geigeriffic.  <center><img src="images/IMG_20120801_115619.jpg" alt="Serial Adapter" title="Tooltip" height="75%" width="75%" /></center></p>To to this, I repurposed the PULSE I/O pin from the geiger counter in order to control a relay.  <center><img src="images/IMG_20120727_113246.jpg" alt="Serial Adapter" title="Tooltip" height="75%" width="75%" /><img src="images/IMG_20120801_090226.jpg" alt="Serial Adapter" title="Tooltip" height="75%" width="75%" /></center>The relay switches between allowing geiger counter data to transmit, and GPS data to transmit, since the XBee can only handle one transmission at a time to avoid garbling.  The same Geigeriffic program should work for both modified and unmodified geiger firmware to accomodate those unwilling to change the firmware itself.  To change the firmware I downloaded AVRStudio 4, and used an Atmel AVR programmer Mk II to upload the code to the ICSP port of the geiger counter.An important note is that I have noticed that the Relay will randomly stop switching, and to fix this all that must be done is to restart the geiger counter.  Also an important note is that for the Relay and GPS I needed to use a higher voltage power supply, in the form of a 3x AA battery pack.  Here is a schematic of how I connected everything together:
          <center><img src="images/Circuitry.png" alt="Serial Adapter" title="Tooltip" height="120%" width="120%" /></center>  I was also able to import the log data from the GPS into Google FusionTables, which I used to map all of the points and radiation levels.<p>
          
          <center><iframe width="600" height="500" scrolling="no" frameborder="no" src="https://www.google.com/fusiontables/embedviz?viz=MAP&amp;q=select+col6+from+1rHXBgtam_CMcRzCHv_xCNlRvtQqGieM5G0UT-jA&amp;h=false&amp;lat=40.77442849554529&amp;lng=-73.96152173495295&amp;z=19&amp;t=1&amp;l=col6"></iframe></center>
          
          <p>
          Bill of Materials:
          <center><iframe width='600' height='400' frameborder='0' src='https://docs.google.com/spreadsheet/pub?key=0AtBDIaEjD-xWdE9ldHVWSEc4WnhLaFVYQ0ZPM2hXelE&single=true&gid=0&output=html&widget=true'></iframe></center>
          </p>
          
          <p>
          For more videos and information, view my <a href="http://www.bluestampengineering.com/author/dillona12/">BlueStamp Engineering page</a>.
          </p>

<p>-TechieTrekkie</p>
      </section>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-33268624-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
      <center>
      <section id="downloads">
          <a href="https://github.com/TechieTrekkie/Geigeriffic/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/TechieTrekkie/Geigeriffic/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/TechieTrekkie/Geigeriffic" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
      </section>
          </center>

<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Geigeriffic</span> by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Dillon A.</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
  </body>
</html>